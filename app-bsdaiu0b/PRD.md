# 体重管理数字医生小程序 PRD

## 1. 产品概述

### 1.1 产品定位
体重管理数字医生是一款连接用户与健康顾问的体重管理平台，通过AI技术为用户提供个性化的体重管理方案，并由专业健康顾问进行审核和指导。

### 1.2 目标用户
- **主要用户**：需要体重管理的超重人群（BMI≥24）
- **核心群体**：26-45岁中青年，女性占比59.62%
- **用户特征**：对体重管理有需求但缺乏专业指导，希望获得科学有效的减重方案

### 1.3 核心价值
- 为用户提供AI驱动的个性化体重管理方案
- 连接专业健康顾问，提供专业审核和指导
- 通过数据追踪和智能提醒，提高用户执行效果

## 2. 功能架构

### 2.1 用户端功能

#### 2.1.1 首页
- **体重概览**：显示当前体重、BMI、目标进度
- **今日任务**：饮食记录、体重记录、运动提醒
- **快速入口**：AI对话、拍照记录、方案查看
- **健康顾问**：显示关联的健康顾问信息

#### 2.1.2 AI对话功能
- **智能对话**：与AI进行体重管理相关对话
- **拍照识别**：拍照识别食物、体重秤等
- **知识问答**：获取专业的体重管理知识
- **方案生成**：AI根据用户情况生成个性化方案

#### 2.1.3 体重管理
- **体重记录**：手动输入或拍照识别体重
- **体重趋势**：显示体重变化曲线
- **BMI计算**：自动计算并显示BMI指数
- **目标设定**：设定减重目标和时间

#### 2.1.4 饮食管理
- **饮食记录**：拍照识别食物，自动计算热量
- **营养分析**：显示每日营养摄入情况
- **饮食建议**：根据目标提供饮食建议
- **食谱推荐**：推荐适合的食谱

#### 2.1.5 方案管理
- **方案查看**：查看AI生成的健康方案
- **方案选择**：选择直接使用或请健康顾问审核
- **执行跟踪**：跟踪方案执行情况
- **效果评估**：评估方案执行效果

#### 2.1.6 个人中心
- **基本信息**：姓名、年龄、身高、体重等
- **健康顾问**：关联的健康顾问信息
- **会员管理**：会员等级、到期时间
- **设置**：隐私设置、通知设置等

### 2.2 健康顾问端功能

#### 2.2.1 患者管理
- **患者列表**：显示所有关联的患者
- **患者分类**：待随访、近7天活跃、全部患者
- **患者详情**：查看患者详细信息和数据
- **数据概览**：患者体重、饮食、运动数据

#### 2.2.2 方案审核
- **待审核方案**：显示待审核的AI方案
- **审核操作**：通过、拒绝、修改建议
- **审核历史**：查看历史审核记录
- **方案模板**：创建和编辑方案模板

#### 2.2.3 沟通功能
- **患者聊天**：与患者进行实时聊天
- **消息提醒**：预设提醒消息
- **聊天记录**：查看历史聊天记录
- **快速回复**：预设常用回复

#### 2.2.4 数据分析
- **患者数据**：查看患者详细数据
- **趋势分析**：体重变化趋势分析
- **执行情况**：方案执行情况统计
- **效果评估**：患者减重效果评估

#### 2.2.5 个人中心
- **基本信息**：姓名、专业领域、资质信息
- **收入统计**：查看收入明细和统计
- **提现管理**：申请提现和管理
- **设置**：通知设置、隐私设置等

## 3. 用户流程

### 3.1 用户注册流程
1. 用户打开小程序
2. 微信授权登录
3. 完善基本信息（身高、体重、目标等）
4. 选择健康顾问
5. 发送关联申请
6. 健康顾问确认
7. 完成注册

### 3.2 AI方案生成流程
1. 用户与AI对话，描述需求
2. AI分析用户数据（体重、饮食、目标等）
3. AI生成多个个性化方案
4. 用户查看方案详情
5. 用户选择直接使用或请健康顾问审核
6. 如果选择审核，推送给健康顾问
7. 健康顾问审核方案
8. 用户收到审核结果
9. 用户执行最终方案

### 3.3 健康顾问审核流程
1. 收到用户审核申请
2. 查看用户详细数据
3. 分析AI生成的方案
4. 进行专业审核
5. 选择通过、拒绝或修改
6. 发送审核结果给用户
7. 跟踪用户执行情况

## 4. 数据模型

### 4.1 用户数据（users）
```json
{
  "_id": "用户ID",
  "openid": "微信openid",
  "nickname": "李X明",
  "avatar": "头像URL",
  "gender": "女",
  "age": 35,
  "height": 160,
  "current_weight": 68,
  "target_weight": 58,
  "bmi": 26.8,
  "health_goals": ["减重", "改善体质"],
  "medical_history": ["脂肪肝"],
  "advisor_id": "关联健康顾问ID",
  "member_level": "standard",
      "member_expire": "2025-12-31",
          "created_at": "2025-08-08",
        "updated_at": "2025-08-08"
}
```

### 4.2 健康顾问数据（advisors）
```json
{
  "_id": "健康顾问ID",
  "name": "张医生",
  "avatar": "头像URL",
  "phone": "手机号",
  "specialty": ["减重", "营养"],
  "qualification": "营养师资格证",
  "hospital": "合作医院",
  "description": "专业描述",
  "user_count": 25,
  "rating": 4.8,
  "status": "active",
          "created_at": "2025-08-01"
}
```

### 4.3 体重记录（weight_records）
```json
{
  "_id": "记录ID",
  "user_id": "用户ID",
  "weight": 68.2,
  "bmi": 26.8,
      "record_date": "2025-08-08",
  "record_type": "manual", // manual/photo
  "photo_url": "照片URL",
      "created_at": "2025-08-08"
}
```

### 4.4 饮食记录（diet_records）
```json
{
  "_id": "记录ID",
  "user_id": "用户ID",
  "food_name": "米饭",
  "calories": 150,
  "protein": 3,
  "fat": 0.5,
  "carbs": 30,
  "photo_url": "照片URL",
  "meal_type": "breakfast", // breakfast/lunch/dinner/snack
          "record_date": "2025-08-08",
        "created_at": "2025-08-08"
}
```

### 4.5 AI方案（ai_plans）
```json
{
  "_id": "方案ID",
  "user_id": "用户ID",
  "advisor_id": "健康顾问ID",
  "plan_name": "温和减重方案",
  "plan_type": "weight_loss",
  "target_weight": 58,
  "duration": 90,
  "expected_loss": 10,
  "daily_calories": 1500,
  "diet_plan": "详细饮食计划",
  "exercise_plan": "运动计划",
  "status": "pending", // pending/approved/rejected
  "review_comment": "审核意见",
          "created_at": "2025-08-08",
        "reviewed_at": "2025-08-09"
}
```

### 4.6 聊天记录（advisor_messages）
```json
{
  "_id": "消息ID",
  "user_id": "用户ID",
  "advisor_id": "健康顾问ID",
  "sender_type": "user", // user/advisor
  "message_type": "text", // text/image
  "content": "消息内容",
  "image_url": "图片URL",
  "created_at": "2025-08-08"
}
```

## 5. 技术方案

### 5.1 技术栈
- **前端**：微信小程序
- **后端**：腾讯云 CloudBase
- **数据库**：云数据库
- **AI服务**：DeepSeek API
- **图片识别**：DeepSeek图像识别
- **存储**：云存储

### 5.2 核心API
- **AI对话**：调用DeepSeek API进行智能对话
- **图片识别**：调用DeepSeek图像识别API
- **方案生成**：基于用户数据生成个性化方案
- **数据存储**：云数据库存储用户数据

### 5.3 安全措施
- **数据脱敏**：用户姓名脱敏显示
- **权限控制**：健康顾问只能查看自己的用户数据
- **数据加密**：敏感信息加密存储
- **隐私保护**：符合相关法律法规

## 6. 商业模式

### 6.1 用户端收费
- **基础版**：免费（基础功能）
- **标准版**：15元/月（AI对话、体重记录、基础方案）
- **高级版**：30元/月（包含健康顾问审核、个性化方案、详细分析）

### 6.2 健康顾问抽成
- **审核服务**：用户付费5元/次，健康顾问获得3.5元（70%）
- **会员分成**：用户付费会员，健康顾问获得20%分成
- **增值服务**：专业报告、定制方案等，健康顾问获得50%分成

### 6.3 成本估算
- **AI对话**：0.01-0.05元/次
- **图片识别**：0.005元/次
- **月活用户1000人**：月成本约2850元

## 7. 运营策略

### 7.1 用户获取
- **微信生态**：利用微信小程序生态
- **健康顾问推广**：通过健康顾问推广用户
- **内容营销**：发布体重管理相关内容
- **口碑传播**：用户推荐奖励

### 7.2 用户留存
- **个性化服务**：基于用户数据提供个性化服务
- **社区建设**：建立用户社区，增加粘性
- **定期活动**：举办减重挑战等活动
- **会员权益**：提供会员专属权益

### 7.3 健康顾问管理
- **资质审核**：严格审核健康顾问资质
- **培训支持**：提供平台使用培训
- **收入激励**：提供有竞争力的分成比例
- **服务质量**：建立服务质量评估体系

## 8. 风险控制

### 8.1 合规风险
- **医疗资质**：确保健康顾问具备相关资质
- **数据安全**：符合数据保护法规
- **内容审核**：AI生成内容需要人工审核
- **用户隐私**：严格保护用户隐私

### 8.2 技术风险
- **AI准确性**：确保AI建议的准确性
- **系统稳定性**：保证系统稳定运行
- **数据备份**：定期备份重要数据
- **安全防护**：防止数据泄露和攻击

### 8.3 运营风险
- **用户流失**：制定用户留存策略
- **健康顾问流失**：提供有竞争力的收入
- **竞争风险**：持续优化产品功能
- **政策风险**：关注相关政策变化

## 9. 开发计划

### 9.1 第一阶段（1-2个月）
- 数据库设计和云函数开发
- 用户端基础功能开发
- AI服务集成

### 9.2 第二阶段（2-3个月）
- 健康顾问端功能开发
- 方案审核功能完善
- 支付和分成系统

### 9.3 第三阶段（3-4个月）
- 功能优化和测试
- 运营工具开发
- 上线准备

## 10. 成功指标

### 10.1 用户指标
- **注册用户数**：目标10万用户
- **活跃用户数**：月活用户1万
- **付费转化率**：目标20%
- **用户留存率**：月留存率60%

### 10.2 业务指标
- **月收入**：目标50万元
- **健康顾问数**：目标500人
- **方案审核数**：月审核1000次
- **用户满意度**：目标4.5分

### 10.3 技术指标
- **系统稳定性**：99.9%可用性
- **响应时间**：平均响应时间<2秒
- **AI准确率**：90%以上
- **数据安全**：零数据泄露事件
